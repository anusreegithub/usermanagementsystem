<link rel="stylesheet" type="text/css" href="/styles/homepage.css">

<nav class="navbar">
  <div class="navbar-container container">
    <input type="checkbox" name="" id="">
    <div class="hamburger-lines">
      <span class="line line1"></span>
      <span class="line line2"></span>
      <span class="line line3"></span>
    </div>
    <ul class="menu-items">
       <li><a href="/logout" class="btn btn-primary">Logout</a></li> 
    </ul>
    <h1 class="logo"></h1>

  </div>
</nav>
<section class="showcase-area" id="showcase">
  <div class="showcase-container">
     <h1 class="main-title" id="home">Users List</h1>
      <div class="container"> <input type="text" name="searchInput" id="searchInput" class="searchbox" placeholder="What are you looking for ?">
   </div>
  </div>
</section>

<div class="container">    
   <div class="create"> <a href="/register" class="btn "><svg xmlns="http://www.w3.org/2000/svg" width="2.5em" height="2.5em" viewBox="0 0 24 24"><path fill="green" fill-rule="evenodd" d="M9 4a4 4 0 1 0 0 8a4 4 0 0 0 0-8m-2 9a4 4 0 0 0-4 4v1a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2v-1a4 4 0 0 0-4-4zm8-1a1 1 0 0 1 1-1h1v-1a1 1 0 1 1 2 0v1h1a1 1 0 1 1 0 2h-1v1a1 1 0 1 1-2 0v-1h-1a1 1 0 0 1-1-1" clip-rule="evenodd"/></svg></a></div>
</div>

<table class="center container">

  <thead>

      <th>Name</th>
      <th>Username</th>
      <th>Email address</th>
      <th>Phonenumber</th>
      <th>Edit</th>
      <th>Delete</th>
    </thead>

  <tbody id="usersList">
    {{#each users}}
  <tr>
    <td>{{this.firstname}}</td>
    <td>{{this.username}}</td>
    <td>{{this.email}}</td>
    <td>{{this.phonenumber}}</td>
    <td><a href="/update/{{this._id}}" ><svg xmlns="http://www.w3.org/2000/svg" width="1.5em" height="1.5em" viewBox="0 0 24 24"><path fill="black" d="M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83l3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75z"/></svg></a></td>
    <td><a href="/delete/{{this._id}}" onclick="return confirm(`Are you sure you want to delete this {{this.firstname}}?`)"><svg xmlns="http://www.w3.org/2000/svg" width="1.5em" height="1.5em" viewBox="0 0 24 24"><path fill="red" d="M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6zM19 4h-3.5l-1-1h-5l-1 1H5v2h14z"/></svg></a></td>
  </tr>
{{/each}}

  </tbody>

</table>



<footer id="footer">
  <h2>anusree &copy; all rights reserved</h2>
</footer>
</body>


<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
<script>
  $(document).ready(function () {
    // Add smooth scrolling to all links
    $("a").on("click", function (event) {
      // Make sure this.hash has a value before overriding default behavior
      if (this.hash !== "") {
        // Prevent default anchor click behavior
        event.preventDefault();

        // Store hash
        var hash = this.hash;

        $("html, body").animate(
          {
            scrollTop: $(hash).offset().top,
          },
          800,
          function () {
            // Add hash (#) to URL when done scrolling (default click behavior)
            window.location.hash = hash;
          }
        );
      } // End if
    });
  });




</script>

<script>
   document.getElementById("searchInput").addEventListener("keyup", function () {
  const searchTerm = this.value.toLowerCase(); 
  console.log(searchTerm);
  const usersList = document.querySelectorAll("#usersList tr"); // Select all rows in the users list

  usersList.forEach((row) => {
    const userText = row.innerText.toLowerCase(); // Get the text of the current row

    // Check if the row's text includes the search term
    if (userText.includes(searchTerm)) {
      row.style.display = "table-row"; // Show matched row
    } else {
      row.style.display = "none"; // Hide unmatched row
    }
  });
});

</script>